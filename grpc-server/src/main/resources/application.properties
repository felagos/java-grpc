spring.application.name=grpc-server

# Allow bean definition overriding to resolve conflicts between multiple gRPC health service definitions
spring.main.allow-bean-definition-overriding=true

# Spring gRPC Server Configuration
spring.grpc.server.port=6565

# Keep-alive settings (all properties must be set to avoid NPE in Spring gRPC 1.0.0)
spring.grpc.server.keep-alive.time=10s
spring.grpc.server.keep-alive.timeout=1s
spring.grpc.server.keep-alive.max-idle=25s
spring.grpc.server.keep-alive.max-age=1h
spring.grpc.server.keep-alive.max-age-grace=10s
spring.grpc.server.keep-alive.permit-time=5m
spring.grpc.server.keep-alive.permit-without-calls=false

# Optional: Enable health and reflection services
spring.grpc.server.health.enabled=true
spring.grpc.server.reflection.enabled=true

# Suppress HTTP/2 preface warnings from incorrect client connections
logging.level.io.grpc.netty.shaded.io.grpc.netty=ERROR
logging.level.io.grpc.netty.shaded.io.grpc.netty.NettyServerHandler=WARN
